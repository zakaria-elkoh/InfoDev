<!-- <link rel="manifest" href="site.webmanifest"> -->
<link rel="shortcut icon" type="image/x-icon" href="assets/img/favicon.png">
<!-- Place favicon.ico in the root directory -->

<!-- svg cdn -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

<!-- Bootstrap cdn -->
<!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">-->


<!-- sweet alert CDN -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">

<!-- CSS here -->

<link rel="stylesheet" href="../assets/css/bootstrap.min.css">
<link rel="stylesheet" href="../assets/css/owl.carousel.min.css">
<link rel="stylesheet" href="../assets/css/slicknav.css">
<link rel="stylesheet" href="../assets/css/animate.min.css">
<link rel="stylesheet" href="../assets/css/magnific-popup.css">
<link rel="stylesheet" href="../assets/css/fontawesome-all.min.css">
<link rel="stylesheet" href="../assets/css/themify-icons.css">
<link rel="stylesheet" href="../assets/css/themify-icons.css">
<link rel="stylesheet" href="../assets/css/slick.css">
<link rel="stylesheet" href="../assets/css/nice-select.css">
<link rel="stylesheet" href="../assets/css/style.css">
<link rel="stylesheet" href="../assets/css/responsive.css">

<!--
Fatima Ezzahra!!!
had l front modifie fih kima bghiti ,ana darto gha bach ntesty requests
-->
<style>
    /* Global Styles */
    body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f4f4f4;
    }

    .container {
        width: 80%;
        margin: 0 auto;
    }

    /* Profile Section */
    .profile-header {
        display: flex;
        align-items: center;
        background-color: #3498db;
        color: white;
        padding: 20px;
        border-radius: 10px;
        margin-top: 20px;
    }

    .profile-header img {
        border-radius: 50%;
        width: 80px;
        height: 80px;
        margin-right: 20px;
    }

    .profile-header .info {
        flex-grow: 1;
    }

    .profile-header .info h2 {
        margin: 0;
    }

    .profile-header .info p {
        margin: 5px 0;
    }

    .profile-header a {
        color: white;
        text-decoration: none;
    }

    .profile-header .edit-profile {
        background-color: #2ecc71;
        padding: 10px 15px;
        border-radius: 5px;
    }

    /* Form Section */
    .article-form {
        background-color: white;
        padding: 20px;
        margin-top: 20px;
        border-radius: 10px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .article-form h3 {
        margin-bottom: 20px;
    }

    .article-form label {
        display: block;
        margin-bottom: 5px;
    }

    .article-form input,
    .article-form textarea {
        width: 100%;
        padding: 10px;
        margin-bottom: 20px;
        border: 1px solid #ccc;
        border-radius: 5px;
    }

    .article-form button {
        background-color: #3498db;
        color: white;
        padding: 10px 15px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
    }

    .article-form button:hover {
        background-color: #2980b9;
    }
</style>

<div class="container">
    <!-- Profile Section -->
    <div class="profile-header">
        <img src="https://via.placeholder.com/80" alt="Profile Picture">
        <div class="info">
            <h2>John Doe</h2>
            <p><i class="fas fa-envelope"></i> john.doe@example.com</p>
            <p><i class="fas fa-calendar"></i> Member since: January 2024</p>
        </div>
        <a href="#" class="edit-profile"><i class="fas fa-edit"></i> Edit Profile</a>
    </div>
    <!-- Article Creation Form -->
    <div class="article-form">
        <h3>Create a New Article</h3>
        <form action="/create/article" method="POST" enctype="multipart/form-data">
            <label for="title">Article Title</label>
            <input type="text" id="title" name="title" placeholder="Enter the title">

            <label for="title">Article Image</label>
            <input type="file" accept="image/*" id="imageInput" name="articleImage" />
            <div class="image-preview w-[25%]">
                <img id="imageOutPut" />
                <p id="imageName"></p>
            </div>
            <label for="content">Article Content</label>
            <textarea id="content" name="content" rows="10" placeholder="Write your article here..."></textarea>

            <button type="submit"><i class="fas fa-paper-plane"></i> Submit Article</button>
        </form>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<% if (errors !== null) { %>

    <script>
        setTimeout(function () {
            Swal.fire({
                title: 'Error!',
                text: '<%= errors %>',
                icon: 'error',
                confirmButtonText: 'Try Again'
            });
        }, 1000);  // Delay of 1 second before showing alert
    </script>
    <% } %>
        <script>
            const urlParams = new URLSearchParams(window.location.search);
            const createdStatus = urlParams.get('created');

            if (createdStatus === 'success') {
                setTimeout(
                    Swal.fire({
                        title: 'Article Created!',
                        text: 'Your article has been successfully created.',
                        icon: 'success',
                        confirmButtonText: 'OK'
                    }).then((result) => {
                        if (result.isConfirmed) {
                            const url = new URL(window.location.href);
                            url.searchParams.delete('created');
                            history.pushState({}, document.title, url.href);
                        }
                    })
                    ,
                    1000
                )
            }
            let imageInput = document.getElementById("imageInput");
            let imageOutput = document.getElementById("imageOutPut");
            let imageName = document.getElementById("imageName");
            imageInput.onchange = (ev) => {
                imageOutput.alt = "preview";
                imageOutput.src = URL.createObjectURL(ev.target.files[0]);
                imageName.innerHTML = `<b> ${ev.target.files[0].name} </b>`
                imageOutput.onload = () => {
                    URL.revokeObjectURL(imageOutput.src);
                }
            }
        </script>
            <script src="../assets/js/vendor/modernizr-3.5.0.min.js"></script>
            <!-- Jquery, Popper, Bootstrap -->
            <script src="../assets/js/vendor/jquery-1.12.4.min.js"></script>
            <script src="../assets/js/popper.min.js"></script>
            <script src="../assets/js/bootstrap.min.js"></script>
            <!-- Jquery Mobile Menu -->
            <script src="../assets/js/jquery.slicknav.min.js"></script>
        
            <!-- Jquery Slick , Owl-Carousel Plugins -->
            <script src="../assets/js/owl.carousel.min.js"></script>
            <script src="../assets/js/slick.min.js"></script>
        
            <!-- One Page, Animated-HeadLin -->
            <script src="../assets/js/wow.min.js"></script>
            <script src="../assets/js/animated.headline.js"></script>
        
            <!-- Scrollup, nice-select, sticky -->
            <script src="../assets/js/jquery.scrollUp.min.js"></script>
            <script src="../assets/js/jquery.nice-select.min.js"></script>
            <script src="../assets/js/jquery.sticky.js"></script>
            <script src="../assets/js/jquery.magnific-popup.js"></script>
        
            <!-- contact js -->
            <script src="../assets/js/contact.js"></script>
            <script src="../assets/js/jquery.form.js"></script>
            <script src="../assets/js/jquery.validate.min.js"></script>
            <script src="../assets/js/mail-script.js"></script>
            <script src="../assets/js/jquery.ajaxchimp.min.js"></script>
        
            <!-- Jquery Plugins, main Jquery -->
            <script src="../assets/js/plugins.js"></script>
            <script src="../assets/js/main.js"></script>
        
            <!-- Tailwind CDN-->
            <script src="https://cdn.tailwindcss.com"></script>
            <script src="https://unpkg.com/flowbite@1.5.0/dist/flowbite.js"></script>
        
            <!-- Bootstrap cdn -->
        <!--    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>-->
        
        
            <!-- SWEET ALERT JS -->
            <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>